/*!
 * jQuery Context Menu Plugin v1.1.0
 * https://github.com/myspace-nu
 *
 * Released under the MIT license
 */
jQuery&&(jQuery,$.extend($.fn,{contextMenu:function(r,l){return null!=r.menu&&(null==r.inSpeed&&(r.inSpeed=150),null==r.outSpeed&&(r.outSpeed=75),0==r.inSpeed&&(r.inSpeed=-1),0==r.outSpeed&&(r.outSpeed=-1),$(this).each(function(){var u=$(this),c=$(u).offset();$("#"+r.menu).addClass("contextMenu"),$(this).mousedown(function(e){var d=e;d.stopPropagation(),$(this).mouseup(function(e){e.stopPropagation();var n=$(this);if($(this).unbind("mouseup"),2==d.button){$(".contextMenu").hide();var t=$("#"+r.menu);if($(u).hasClass("disabled"))return!1;var i,s,o={};self.innerHeight?(o.pageYOffset=self.pageYOffset,o.pageXOffset=self.pageXOffset,o.innerHeight=self.innerHeight,o.innerWidth=self.innerWidth):document.documentElement&&document.documentElement.clientHeight?(o.pageYOffset=document.documentElement.scrollTop,o.pageXOffset=document.documentElement.scrollLeft,o.innerHeight=document.documentElement.clientHeight,o.innerWidth=document.documentElement.clientWidth):document.body&&(o.pageYOffset=document.body.scrollTop,o.pageXOffset=document.body.scrollLeft,o.innerHeight=document.body.clientHeight,o.innerWidth=document.body.clientWidth),i=e.pageX||e.clientX+o.scrollLeft,s=e.pageY||e.clientY+o.scrollTop,$(document).unbind("click"),$(t).css({top:s,left:i}).fadeIn(r.inSpeed),$(t).find("A").mouseover(function(){$(t).find("LI.hover").removeClass("hover"),$(this).parent().addClass("hover")}).mouseout(function(){$(t).find("LI.hover").removeClass("hover")}),$(document).keypress(function(e){switch(e.keyCode){case 38:(0==$(t).find("LI.hover").size()||($(t).find("LI.hover").removeClass("hover").prevAll("LI:not(.disabled)").eq(0).addClass("hover"),0==$(t).find("LI.hover").size()))&&$(t).find("LI:last").addClass("hover");break;case 40:(0==$(t).find("LI.hover").size()||($(t).find("LI.hover").removeClass("hover").nextAll("LI:not(.disabled)").eq(0).addClass("hover"),0==$(t).find("LI.hover").size()))&&$(t).find("LI:first").addClass("hover");break;case 13:$(t).find("LI.hover A").trigger("click");break;case 27:$(document).trigger("click")}}),$("#"+r.menu).find("A").unbind("click"),$("#"+r.menu).find("LI:not(.disabled) A").click(function(){return $(document).unbind("click").unbind("keypress"),$(".contextMenu").hide(),l&&l($(this).attr("href").substr(1),$(n),{x:i-c.left,y:s-c.top,docX:i,docY:s}),!1}),setTimeout(function(){$(document).click(function(){return $(document).unbind("click").unbind("keypress"),$(t).fadeOut(r.outSpeed),!1})},0)}})}),$.browser.mozilla?$("#"+r.menu).each(function(){$(this).css({MozUserSelect:"none"})}):$.browser.msie?$("#"+r.menu).each(function(){$(this).bind("selectstart.disableTextSelect",function(){return!1})}):$("#"+r.menu).each(function(){$(this).bind("mousedown.disableTextSelect",function(){return!1})}),$(u).add($("UL.contextMenu")).bind("contextmenu",function(){return!1})}),$(this))},disableContextMenuItems:function(t){return null==t?$(this).find("LI").addClass("disabled"):$(this).each(function(){if(null!=t)for(var e=t.split(","),n=0;n<e.length;n++)$(this).find('A[href="'+e[n]+'"]').parent().addClass("disabled")}),$(this)},enableContextMenuItems:function(t){return null==t?$(this).find("LI.disabled").removeClass("disabled"):$(this).each(function(){if(null!=t)for(var e=t.split(","),n=0;n<e.length;n++)$(this).find('A[href="'+e[n]+'"]').parent().removeClass("disabled")}),$(this)},disableContextMenu:function(){return $(this).each(function(){$(this).addClass("disabled")}),$(this)},enableContextMenu:function(){return $(this).each(function(){$(this).removeClass("disabled")}),$(this)},destroyContextMenu:function(){return $(this).each(function(){$(this).unbind("mousedown").unbind("mouseup")}),$(this)}}));